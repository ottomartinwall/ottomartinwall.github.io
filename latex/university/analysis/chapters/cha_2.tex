\chapter{Functions}

\begin{definition}[Function between two sets]
	Let $A$ and $B$ be sets. A \textbf{function} from $A$ to $B$ is a nonempty relation $f\subseteq A\times B$ that satisfies the following two conditions:
	\begin{enumerate}
		\item \textit{Existance}: $\forall a\in A, \exists b\in B \ni (a,b)\in f$
		\item \textit{Uniqueness}: $([(a,b)\in f] \land [(a,c)\in f]) \implies (b=c)$ 
	\end{enumerate}
	$A$ is called the \textbf{domain} of $f$ and is denoted by dom $f$. $B$ is referred to as the \textbf{codomain} of $f$. We may write $f:A\rightarrow B$ to indicate that $f$ has domain $A$ and codomain $B$. The \textbf{range} of $f$, denoted rng $f$, is the set of 
	\begin{align*}
		\text{rng } f = \{b\in B:\exists a\in A \ni (a,b)\in f\} 
	\end{align*}
\end{definition}

The domain of a function is either obtained from context or it is stated explicitly. Unless told otherwise, whenever a function is specified by a formula, possibly like this
\begin{align*}
	f(x) = 3x^2-5,
\end{align*}
then the domain of $f$ is assumed to be the largest possible subset of $\R$ for which the formula will result in a real number.

\newpage
\section{Properties of Functions}

\subsection{-jection}
\begin{definition}[Surjection]
	A function $f:A\rightarrow B$ is called \textbf{surjective} (or is said to map $A$ \textbf{onto} $B$) if $B=$ rng $f$. A surjective function is also referred to as a \textbf{surjection}.
\end{definition}

\begin{definition}[Injection]
	A function $f:A\rightarrow B$ is called \textbf{injective} (or \textbf{one-to-one}) if, for all $a$ and $a'$ in $A$, $f(a)=f(a')$ implies that $a=a'$. An injective function is also referred to as an \textbf{injection}.
\end{definition}

\begin{definition}[Bijection]
	A function $f:A\rightarrow B$ is called \textbf{bijective} or a \textbf{bijection} if it is both surjective and injective.
\end{definition}

If a function is bijective, then it is particularly well behaved.

\begin{definition}[Image and pre-image]
	\label{image}
	Suppose that $f:A\rightarrow B$ and that $C\subseteq A$, then the subset $f(C) = \{f(x):x\in C\}$ of $B$ is called the \textbf{image} of $C$ in $B$.
	
	If we let $D\subseteq B$, then the subset $f^{-1}(D)=\{x\in A: f(x)\in D\}$ of A is called the \textbf{pre-image} of $D$ in $A$, or $f$ inverse of $D$. 
\end{definition}

\begin{remark}
	In the second case where $D\subseteq B$ and $f^{-1}(D)=\{x\in A: f(x)\in D\}$, it must not be that rng $f$ includes all of $D$, because $D$ must not be a subset of $A$.
\end{remark}

\begin{theorem}
	Suppose that $f:A\rightarrow B$. Let $C\subseteq A$ and let $D\subseteq B$. Then the following hold:
	\begin{enumerate}
		\item $C \subseteq f^{-1}[f(C)]$
		\item $f[f^{-1}(D)]\subseteq D$
	\end{enumerate}
\end{theorem}
	
\begin{proof}
	We begin with case 1.
	
	Suppose that $f:A\rightarrow B$, and that $C_1\subseteq A$ and $C_2\subseteq A$, and that $C_1 \cap C_2 = \emptyset$ and that $f(C_1)=f(C_2)$. Then $f^{-1}[f(C_1]=C_1 \cup C_2$, which must contain more members than $C_1$. Therefore, $C\subseteq f^{-1}[f(C)]$ as was to be prooven.\footnote{if $f$ were injective (which it isn't in the proof) then $C = f^{-1}[f(C)]$, which is shown in the proof of \ref{theolabel1}.} \bigskip
	
	For case 2,\footnote{My original proof, may contain faults} suppose that $f:A\rightarrow B$ and $D\subseteq B$. Let $D_1 = \{d\in D: \exists a\in A \ni f(a)=d\}$, and let $D_2 = \{d\in D: \forall a\in A,f(a)\neq d\}$. This implies that $D = D_1 \cup D_2$ and $D_1 \cap D_2 = \emptyset$. The definition of $D_1$ also means that $f[f^{-1}(D_1)] = D_1$. Also, because of the definition of $D_2$, $f^{-1}(D)=f^{-1}(D_1\cup D_2)=f^{-1}(D_1)$ since $f^{-1}(D_2)=\emptyset$.
	
	Since $f[f^{-1}(D_1)] = D_1 = f[f^{-1}(D)]$ and $D_1 \cap D_2 = \emptyset$, it must be that $f[f^{-1}(D)]\subseteq D$ because $D$ has equal or more members than $D_1$.
\end{proof}

\begin{theorem}
	\label{theolabel1}
	Suppose that $f:A\rightarrow B$. Let $C\subseteq A$ and $D\subseteq B$. Then the following hold:
	\begin{enumerate}
		\item If $f$ is injective, then $f^{-1}[f(C)]=C$.
		\item If $f$ is surjective, then $f[f^{-1}(D)]=D$.
	\end{enumerate}
\end{theorem}

\begin{proof}
	We begin with case 1.\footnote{My original proof, may contain faults}
	
 	Suppose that $f:A\rightarrow B$, and that $C_1\subseteq A$ and $C_2\subseteq A$, and that $f(C_1)=f(C_2)$. Then $f^{-1}[f(C_1)]=C_1\cup C_2$. Since $f$ is injective, and $f(C_1)=f(C_2)$, it must be that $C_1 = C_2$, and therefore $f^{-1}[f(C_1)]=C_1$.\bigskip
 	
 	For case 2,\footnote{My original proof, may contain faults} suppose that $f:A\rightarrow B$ and $D\subseteq B$. Let $D_1 = \{d\in D: \exists a\in A \ni f(a)=d\}$, and let $D_2 = \{d\in D: \forall a\in A,f(a)\neq d\}$. This implies that $D = D_1 \cup D_2$ and $D_1 \cap D_2 = \emptyset$. The definition of $D_1$ also means that $f[f^{-1}(D_1)] = D_1$. Since $f$ is surjective, $D_2=\emptyset$, which means that $D = D_1$ since $D_1 \cup D_2 = D_1$, and therefore $f[f^{-1}(D_1)] = D_1$ implies that $f[f^{-1}(D)] = D$.
\end{proof}

\newpage
\subsection{Composition Function}
\begin{definition}[Composition Function]
	Suppose that $f:A\rightarrow B$ and $g:B\rightarrow C$, then $\forall a\in A, f(a)\in B$, and since $f(a)$ is an object in $B$, $g(f(a))\in C$. This is called the \textbf{composition} of $f$ and $g$.
	\begin{align*}
		g \circ f = g(f(a)), \quad \forall a\in A
	\end{align*}
	In terms of ordered pairs,
	\begin{align*}
		g \circ f = \{(a,c)\in A\times C:[\exists b\in B\ni (a,b)\in f]\land [(b,c)\in g]\}
	\end{align*}
\end{definition}

\begin{theorem}
	Let $f:A\rightarrow B$ and $g:B\rightarrow C$. Then
	\begin{enumerate}
		\item $f$ and $g$ are surjective $\implies$ $g \circ f$ is surjective.
		\item $f$ and $g$ are injective $\implies$ $g \circ f$ is injective.
		\item $f$ and $g$ are bijective $\implies$ $g \circ f$ is bijective.
	\end{enumerate}
\end{theorem}

\begin{proof}
	Case 1:
	
	Since $g$ is surjective, rng $g=C$, which means that $\forall c\in C, \exists b\in B \ni g(b)=c$. Now since $f$ is surjective, $\exists a\in A \ni f(a)=b$. But then $(g\circ f)(a)=g(f(a))=g(b)=c$, so $g\circ f$ is surjective. \bigskip
	
	Case 2:\footnote{My original proof, may contain faults}
	
	Suppose that $b'=f(a')\in B$ and $b=f(a)\in B$, and that $g(b')=g(b)\in C$. This implies that $b'=b$ since $g$ is injective, which means that $f(a')=f(a)$, but because $f$ too is injective, this implies that $a'=a$. This results in that $g(f(a'))=g(f(a)) \implies a'=a$, so by definition, $g\circ f$ is injective.
	
	Case 3: 
	
	By the result of case 1 and 2, if $f$ and $g$ are bijective, then $g \circ f$ is bijective.
\end{proof}

\newpage
\subsection{Inverse function}

To extend the idea of pre-image from \ref{image}, we can define a \textbf{inverse function}.

\begin{definition}[Inverse Function]
	Let $f:A\rightarrow B$ be bijective. The \textbf{inverse function} of $f$ is the function $f^{-1}$ given by
	\begin{align*}
		f^{-1} = \{(y,x)\in B\times A: (x,y)\in f\}
 	\end{align*} 
\end{definition}

\begin{remark}
	If $f:A\rightarrow B$ is bijective, then $f^{-1}:B\rightarrow A$ is bijective. 
\end{remark}





























































